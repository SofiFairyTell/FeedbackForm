<!--<h1>Hello, world!</h1>
<p>Welcome to your new single-page application, built with:</p>
<ul>
  <li><a href='https://get.asp.net/'>ASP.NET Core</a> and <a href='https://msdn.microsoft.com/en-us/library/67ef8sbd.aspx'>C#</a> for cross-platform server-side code</li>
  <li><a href='https://angular.io/'>Angular</a> and <a href='http://www.typescriptlang.org/'>TypeScript</a> for client-side code</li>
  <li><a href='http://getbootstrap.com/'>Bootstrap</a> for layout and styling</li>
</ul>
<p>To help you get started, we've also set up:</p>
<ul>
  <li><strong>Client-side navigation</strong>. For example, click <em>Counter</em> then <em>Back</em> to return here.</li>
  <li><strong>Angular CLI integration</strong>. In development mode, there's no need to run <code>ng serve</code>. It runs in the background automatically, so your client-side resources are dynamically built on demand and the page refreshes when you modify any file.</li>
  <li><strong>Efficient production builds</strong>. In production mode, development-time features are disabled, and your <code>dotnet publish</code> configuration automatically invokes <code>ng build</code> to produce minified, ahead-of-time compiled JavaScript files.</li>
</ul>
<p>The <code>ClientApp</code> subdirectory is a standard Angular CLI application. If you open a command prompt in that directory, you can run any <code>ng</code> command (e.g., <code>ng test</code>), or use <code>npm</code> to install extra packages into it.</p>-->
<div class="wrap">

  <div *ngIf="!posted; else elseBlock">
    <mat-card class="card">
      <mat-card-header>
        <mat-card-title class="head-card">Напишите нам</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <form id="contactform" [formGroup]="userData">
          <p>
            <mat-form-field appearance="legacy" class="input-field">
              <mat-label>Ваше имя</mat-label>
              <input matInput placeholder="Andrew" name="firstName" type="text" formControlName="name">
              <mat-icon matSuffix>mode_edit</mat-icon>
            </mat-form-field>
          </p>

          <p>
            <mat-form-field appearance="legacy" class="input-field">
              <mat-label>Ваш email</mat-label>
              <input matInput placeholder="yourmail@mail.com" type="email" formControlName="email">
              <mat-hint>Должен иметь вид host@mail.com</mat-hint>
              <mat-icon matSuffix>email</mat-icon>
            </mat-form-field>
          </p>

          <p>
            <mat-form-field appearance="legacy" class="input-field">
              <mat-label>Ваш номер телефона</mat-label>
              <input matInput prefix="+7" mask="(000)000-00-00" placeholder="+7(999)999-99-99" type="tel" formControlName="phone">
              <mat-icon matSuffix>phone</mat-icon>
            </mat-form-field>
          </p>

          <p>
            <mat-form-field appearance="legacy" class="input-field">
              <mat-label>Тема сообщения</mat-label>
              <mat-select formControlName="subject">
                <mat-option value="Техподдержка">Техподдержка</mat-option>
                <mat-option value="Продажи">Продажи</mat-option>
                <mat-option value="Другое">Другое</mat-option>

              </mat-select>
            </mat-form-field>
          </p>

          <p>
            <mat-form-field appearance="legacy" class="input-field">
              <mat-label>Текст сообщения</mat-label>
              <textarea matInput placeholder="Введите текст сообщения" formControlName="message"></textarea>
            </mat-form-field>
          </p>


          <div class="recaptca-wrap">
            <p>
              <re-captcha (resolved)="resolved($event)" siteKey={{sharedKey}} formControlName="recaptcha"></re-captcha>
            </p>
          </div>


          <div matTooltip="Необходимо заполнить все поля корректно" [matTooltipDisabled]="!isButtonDisabled()">
            <button mat-raised-button type="submit" [disabled]="userData.invalid||clicked" (click)="press()">
              Отправить
            </button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>

  <ng-template #elseBlock>
    <mat-card class="card">
      <mat-card-header>
        <mat-card-title class="head-card">Полученые данные</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <div class="retained" *ngFor="let item of retained | keyvalue">
          Поле: <b>{{item.key}}</b> =  <b>{{item.value}}</b>
        </div>
      </mat-card-content>
    </mat-card>
  </ng-template>

</div>
